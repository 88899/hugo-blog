[data-theme="emerald"] #disqus_thread {
  color-scheme: none;
  background-color: #fff;
}

[data-theme="emerald"] #disqus_thread a {
  color: #333c4d;
}

[data-theme="forest"] #disqus_thread {
  color-scheme: none;
  background-color: #171213;
}

[data-theme="forest"] #disqus_thread a {
  color: #cbc9ca;
}


/* 自定义 */

/* 针对大屏幕调整网格容器 */
.lg\:grid-cols-4 {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 20px;
}

/* 让文章内容区域占据更多列数（3列）并居中 */
.lg\:grid-cols-4 > div.lg\:col-span-2 {
  grid-column: span 3 !important;
  max-width: 900px;
  margin: 0 auto;
  padding: 0 15px;
}

/* 调整目录区域（右侧）的显示 */
.lg\:grid-cols-4 > div.hidden.lg\:flex {
  grid-column: span 1;
  position: sticky;
  top: 20px;
  max-height: calc(100vh - 40px);
  overflow-y: auto;
}

/* 确保文章内的元素正常显示 */
#dream-single-post-content {
  margin: 0 auto;
  text-align: left;
}

/* 代码块核心样式（固定宽度不随内容自适应） */
.highlight {
  width: 100% !important; /* 强制占满父容器宽度 */
  max-width: 100% !important; /* 禁止超过父容器 */
  margin: 1em 0 !important; /* 取消自动居中，避免溢出 */
  box-sizing: border-box !important; /* 确保padding不增加总宽度 */
  padding: 0 !important; /* 去除额外内边距 */
}

pre {
  width: 100% !important; /* 固定宽度为父容器100% */
  max-width: 100% !important; /* 禁止随内容扩张 */
  white-space: pre-wrap !important; /* 长内容强制换行 */
  word-break: break-all !important; /* 强制长单词/代码换行 */
  overflow-x: auto !important; /* 极端情况显示滚动条 */
  padding: 15px !important;
  border-radius: 4px;
  background-color: #f5f5f5;
  box-sizing: border-box !important; /* 核心：宽度计算包含padding */
}

/* 深色模式代码块适配 */
[data-theme="forest"] pre {
  background-color: #282a36;
}

code {
  white-space: inherit;
}


/* 移动端适配（屏幕宽度 < 1024px） */
@media (max-width: 1023px) {
  .lg\:grid-cols-4 {
    display: block;
    padding: 0 10px;
    max-width: 100vw;
    overflow-x: hidden;
  }

  .lg\:grid-cols-4 > div.lg\:col-span-2 {
    grid-column: span 1 !important;
    max-width: 100% !important;
    padding: 0 10px;
  }

  /* 移动端代码块强制固定宽度 */
  .highlight {
    width: calc(100vw - 20px) !important; /* 减去父容器左右padding */
    margin: 1em -10px !important; /* 负边距抵消父容器padding，避免左右留白 */
  }

  pre {
    padding: 12px !important;
    font-size: 0.9em; /* 缩小字体减少换行压力 */
  }

  img, video, iframe {
    max-width: 100%;
    height: auto;
  }

  .lg\:grid-cols-4 > div.hidden.lg\:flex {
    display: none !important;
  }
}